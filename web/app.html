<!doctype html>

<html>
  
  <head>
    <title> | FME Mobile</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    
    <!-- FME STUFF -->
    <script src="rest-manager.js" type="text/javascript"></script>
    <script src="form-request-manager.js" type="text/javascript"></script>
    
    <!-- SWITCH -->
    <script src="http://www.bootstrap-switch.org/static/js/bootstrap-switch.js"></script>
    <link rel="stylesheet" href="http://www.bootstrap-switch.org/static/stylesheets/bootstrap-switch.css" />
    
    
    <!--   -->
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>  -->
    <script src="http://malsup.github.com/jquery.form.js"></script> 
 
    <script> 
      // wait for the DOM to be loaded 
    /*  $(document).ready(function() { 
          // bind 'myForm' and provide a simple callback function 
          $('#fmeForm').ajaxForm(function() { 
              alert("Thank you for your comment!"); 
          }); 
      })*/;
    </script> 

    
</head>
  
<body onload="fmeMobileForm.triggerRequest();">

    <div class="container">
    
  
      <div class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
            </button>
            <a href="#" class="navbar-brand">FME Mobile</a><a></a>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li>
                <a href="http://fmepedia.safe.com/topic/FME-Mobile-Apps-for-iOS-and-Android">About</a>
              </li>
              <li>
                <a href="http://safe.com/contact">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <ol class="breadcrumb">
        <li>
          <a href="index.html">Home</a>
        </li>
        <li>
          <a href="categories.html">Categories</a>
        </li>
        <li>
          <a href="" id="categoryLink"></a>
        </li>
        <li class="active" id="activeCrumb"></li>
      </ol>
      
<!-- FORM -->
      
    <form  id="fmeForm" name="fmeForm"action="http://mobile.aaron-koning.fmecloud.com/fmejobsubmitter/Field Reporting/Inspection Form.fmw" method="post" enctype="application/x-www-form-urlencoded" target="upload_target">
              
        <hr />
       
        <button type="submit" class="btn btn-block btn-primary" data-loading-text="Submiting...">Submit</button>
        
    <script>
      $('button[data-loading-text]')
        .on('click', function () {
            var btn = $(this)
            btn.button('loading')
            setTimeout(function () {
                btn.button('reset')
            }, 4000)
        });
    </script>

        
<!--        <button type="submit" class="btn btn-block btn-primary">Download (stream or data download)</button>
        <button type="submit" class="btn btn-block btn-primary">Email (data download only)</button>
-->
      <button type="reset" class="btn btn-block btn-default">Reset</button>
      
      if upload field is exposed, then:
        retrive data upload session id
        submit file upload form
        set camera_file_path as hidden parameter
        submit fmeForm form

    </form>
    </div>
    
    <div style="text-align: center;margin-top: 50px"><img src="http://oi39.tinypic.com/e0qr6e.jpg"/></div>      

    
    <script>
  
      var x = document.getElementById("demo");

      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition, showError);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      function showPosition(position) {
        var latlon = position.coords.latitude + "," + position.coords.longitude;
        var img_url = "http://maps.googleapis.com/maps/api/staticmap?center=" + latlon + "&zoom=14&size=400x300&sensor=false";
        document.getElementById("mapholder").innerHTML = "<img src='" + img_url + "'>";
      }
      function showError(error) {
        switch (error.code) {
        case error.PERMISSION_DENIED:
          x.innerHTML = "User denied the request for Geolocation."
          break;
        case error.POSITION_UNAVAILABLE:
          x.innerHTML = "Location information is unavailable."
          break;
        case error.TIMEOUT:
          x.innerHTML = "The request to get user location timed out."
          break;
        case error.UNKNOWN_ERROR:
          x.innerHTML = "An unknown error occurred."
          break;
        }
      }
      //getLocation();
      
    </script>
    
    <iframe name="upload_target" id="upload_target" style="width:800px;height:600px;"></iframe>

<script>
/*(function() {
    
var bar = $('.bar');
var percent = $('.percent');
var status = $('#status');
   
$('#fmeForm').ajaxForm({
    beforeSend: function() {
        status.empty();
        var percentVal = '0%';
        bar.width(percentVal)
        percent.html(percentVal);
    },
    uploadProgress: function(event, position, total, percentComplete) {
        var percentVal = percentComplete + '%';
        bar.width(percentVal)
        percent.html(percentVal);
    },
    success: function() {
        var percentVal = '100%';
        bar.width(percentVal)
        percent.html(percentVal);
    },
  complete: function(xhr) {
		status.html(xhr.responseText);
	}
}); 

})();       
*/
</script>



</body>

</html>

