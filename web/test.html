<!--   Title: Data Upload using javaScript and a hidden iFrame
		Description: Shows how to upload files for use in a transformation using a JavaScript 
		and a hidden iFrame. This is preferential if you want to prevent a page redirect on form
		submission which is what happens when you use a normal HTML form.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>FIle Upload</title>
		<script>
			function init() {
				document.getElementById('file_upload_form').onsubmit = function() {
					document.getElementById('file_upload_form').target = 'upload_target';
					//'upload_target' is the name of the iframe
				}
			}


			window.onload = init;

		</script>
	</head>
	<body>
		<form id="file_upload_form" method="post" enctype="multipart/form-data" action="http://fmeserver.com/fmedataupload/Samples/easyTranslator.fmw">
			<input name="file" id="file" size="27" type="file" />
			<br />
			<input type="submit" name="action" value="Upload" />
			<br />
			<iframe id="upload_target" name="upload_target" src="" style="width:800px;height:200px;border:0px solid #fff;"></iframe>
		</form>
	</body>
</html>